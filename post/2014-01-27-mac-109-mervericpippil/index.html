<!DOCTYPE html>
<html lang="ja-jp">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Mac 10.9 Mervericsでpip install PILが失敗する</title>
	
	
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
	<link rel="stylesheet" href="https://akirachiku.com/css/style.css">
	<link rel="stylesheet" href="https://akirachiku.com/css/pygment_github.css">
	
	<meta name="generator" content="Hugo 0.46" />
</head>
<body>
  <div id="container" class="pure-g">
	<header class="pure-u-1 pure-u-md-1">
    <h1 class="post-title">包丁一本さらしに巻いて</h1>
      <nav role='navigation'>
        <div class="pure-menu pure-menu-horizontal">
          <ul class="pure-menu-list">
            <li class="pure-menu-item"><a href="/" class="pure-menu-link">Top</a></li>
            <li class="pure-menu-item"><a href="/about/" class="pure-menu-link">About</a></li>
            <li class="pure-menu-item"><a href="/index.xml" class="pure-menu-link">Feed</a></li>
          </ul>
        </div>
      </nav>
	</header>

	<main class="pure-u-1 pure-u-md-1">
		<article>
			<h2>Mac 10.9 Mervericsでpip install PILが失敗する</h2>
			<time>2014/01/27</time>
			<div>
				

<p>Mac OSX 10.9.1、Python 2.7.5でpipを利用したPILのインストールが失敗する。
OSアップグレード前はうまくいっていた。</p>

<h2 id="エラー詳細">エラー詳細</h2>

<p>どうやらヘッダファイルが無いらしい。</p>

<pre><code>building '_imagingft' extension

cc -fno-strict-aliasing -fno-common -dynamic -I/usr/local/include -I/usr/local/opt/sqlite/include -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -I/System/Library/Frameworks/Tcl.framework/Headers -I/System/Library/Frameworks/Tk.framework/Headers -I/usr/local/include/freetype2 -IlibImaging -I/Users/achiku/.virtualenvs/pil/include -I/usr/local/include -I/usr/include -I/usr/local/Cellar/python/2.7.5/Frameworks/Python.framework/Versions/2.7/include/python2.7 -c _imagingft.c -o build/temp.macosx-10.7-x86_64-2.7/_imagingft.o

_imagingft.c:73:10: fatal error: 'freetype/fterrors.h' file not found

#include &lt;freetype/fterrors.h&gt;

         ^

1 error generated.

error: command 'cc' failed with exit status 1

----------------------------------------
</code></pre>

<h2 id="対応">対応</h2>

<p>結論から言うと、イメージ上のフォントを弄るfreetypeをbrew経由でインストールし、PILコンパイル時に見える位置にシンボリックリンクを貼って再度pip installすることで解決。
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ brew install freetype
$ ln -s /usr/local/Cellar/freetype/2.5.1/include/freetype2 /usr/local/include/freetype
$ pip install PIL</code></pre></div></p>

<h2 id="参考-こんなになった経緯等">参考/こんなになった経緯等</h2>

<p><a href="http://stackoverflow.com/questions/20325473/error-installing-python-image-library-using-pip-on-mac-os-x-10-9">Error installing Python Image Library using pip on Mac OS X 10.9</a></p>

			</div>
			<div>
				<ul id="tags">
					
				</ul>
			</div>
			<div>
				
			</div>
		</article>
	</main>
	<aside class="pure-u-1 pure-u-md-1">
		<div>
			<div>
				<h3>LATEST POSTS</h3>
			</div>
			<div>
				<ul>
					
					<li><a href="https://akirachiku.com/post/2018-06-23-go-net-http-api-server-5/">net/httpで作るGo APIサーバー #5</a></li>
					
					<li><a href="https://akirachiku.com/about/">About</a></li>
					
					<li><a href="https://akirachiku.com/post/2018-01-01-tsuyokuteyasashii/">強くて優しくありたい</a></li>
					
					<li><a href="https://akirachiku.com/post/2017-06-26-go18-development/">Go 1.8開発環境整備</a></li>
					
					<li><a href="https://akirachiku.com/post/2017-05-22-cnps/">cnps イベントに来る人をよりよく知るツール</a></li>
					
				</ul>
			</div>
		</div>
	</aside>

	<footer class="pure-u-1 pure-u-md-1">
		<p>&copy; 2018 <a href="https://akirachiku.com">包丁一本さらしに巻いて</a></p>
	</footer>
  </div>
</body>
</html>

